"use strict";angular.module("JFS_Admin",["angular.filter","angularMoment","luegg.directives","ngAnimate","ngCookies","ngFileSaver","ngIdle","ngSanitize","summernote","toastr","ui.bootstrap","ui.bootstrap.contextMenu","ui.router","xeditable"]),angular.module("JFS_Admin").run(["$rootScope","$state","$cookies","Idle","editableOptions",function(a,b,c,d,e){d.watch(),e.theme="bs3",a.conn=new WebSocket("wss://jfsapp.com/WebSocket"),a.conn.onopen=function(a){console.log("Connection established!")},a.$on("$stateChangeStart",function(d,e,f){"login"!=b.current.name&&(a.state=b.current);var g=e.data.requireLogin;"undefined"==typeof a.currentUser&&(a.currentUser=c.getObject("user")),g&&"undefined"==typeof a.currentUser&&(d.preventDefault(),b.go("login"))})}]),angular.module("JFS_Admin").config(["$stateProvider","$urlRouterProvider","KeepaliveProvider","IdleProvider",function(a,b,c,d){d.idle(1e4),d.timeout(1e4),c.interval(2),b.otherwise("/"),a.state("login",{url:"/login",templateUrl:"views/Login/index.html",controller:"LoginCtrl",data:{requireLogin:!1}}).state("app",{url:"",templateUrl:"views/index.html",controller:"MainCtrl",data:{requireLogin:!0}}).state("app.Home",{url:"/",templateUrl:"views/Recruiting/index.html"}).state("app.Messages",{url:"/Messages",templateUrl:"views/MessageCenter/index.html",controller:"MessagesCtrl"}).state("app.Tasks",{url:"/Tasks",templateUrl:"views/Task/index.html",controller:"TaskCtrl"}).state("app.Recruiting",{url:"",templateUrl:"views/Recruiting/index.html",controller:"RecruitingCtrl"}).state("app.Recruiting.Dashboard",{url:"/Recruting",templateUrl:"views/Recruiting/dashboard.html"}).state("app.Agents",{url:"",templateUrl:"views/Agents/index.html",controller:"AgentsCtrl"}).state("app.Agents.Dashboard",{url:"/Agents",templateUrl:"views/Agents/dashboard.html"}).state("app.Reporting",{url:"/Reporting",templateUrl:"views/Reporting/index.html",controller:"ReportCtrl"}).state("app.Reporting.Dashboard",{url:"/Reporting/Dashboard",templateUrl:"views/Reporting/Dashboard.html"}).state("app.Reporting.ColorTest",{url:"/Reporting/ColorTest",templateUrl:"views/Reporting/Color_Test.html"}).state("app.Reporting.PopTest",{url:"/Reporting/PopTest",templateUrl:"views/Reporting/Pop_Test.html"})}]),angular.module("JFS_Admin").controller("MainCtrl",["$scope","$state","User","recruit","Functions","Task","$filter","Socket",function(a,b,c,d,e,f,g,h){a.Functions=e,a.newestText=function(a){return g("min")(g("map")(a,"date_recieved"))},a.Visibility={sidebar:!0},a.User=c,a.UserData=c.data,a.Task=f.data,a.ViewMessage=function(a){c.setCurrentConversation(a),b.go("app.Messages")},a.ViewTask=function(a){f.getTask(a),e.OpenModal("views/Modals/TaskModal.html","md")},a.TaskOptions=[["Mark as Seen",function(a){a.task.Status="Started",f.updateTask(a.task)}],["Mark as Done",function(a){a.task.Status="Completed",f.updateTask(a.task)}],null,["Remove",function(b){a.items.splice(b.$index,1)}]],d.setRecruit(10336)}]),angular.module("JFS_Admin").controller("RecruitingCtrl",["$scope","Recruits",function(a,b){a.Recruits=b.data,a.recruitListOptions=[["email",function(a){console.log(a)},[["Favorites"],null,["All Emails",function(a){console.log(a.user)}]]],["Archive",function(a){console.log(a)},[["Mailing List",function(b){a.UpdateRecruit(b.user.ID,{RecruitStatus_ID:2}),b.user.RecruitStatus_ID=2}],["Not Interested",function(b){a.UpdateRecruit(b.user.ID,{RecruitStatus_ID:4}),b.user.RecruitStatus_ID=4}],["No Response",function(b){a.UpdateRecruit(b.user.ID,{RecruitStatus_ID:5}),b.user.RecruitStatus_ID=5}]]],null,["Remove",function(b){a.items.splice(b.$index,1)}]]}]),angular.module("JFS_Admin").controller("LoginCtrl",["$scope","$http","$rootScope","$state","$cookies",function(a,b,c,d,e){a.User={},a.login=function(f,g){b({method:"POST",url:"https://jfsapp.com/Secure/OAUTH/getToken/",data:{grant_type:"password",client_id:"testclient",client_secret:"testpass",username:f,password:g}}).then(function(f){var g=f.data;b({method:"GET",url:"https://jfsapp.com/Secure/API/User/",params:{access_token:g.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){var f=c.state||"app.Home";""===f.name&&(f="app.Home"),a.User.Info=b.data,a.User.Token=g,c.currentUser=a.User,e.putObject("user",a.User,{expires:moment().add(1,"hours").format(),secure:!1}),d.go(f)},function(a){})},function(a,b,c,d){})}}]),angular.module("JFS_Admin").directive("resize",["$window",function(a){return function(b,c,d){var e=angular.element(a);b.$watch(function(){return{h:window.innerHeight,w:window.innerWidth}},function(a,c){b.windowHeight=a.h,b.windowWidth=a.w,b.resizeWithOffset=function(c){return b.$eval(d.notifier),{height:a.h-c+"px"}}},!0),e.bind("resize",function(){b.$apply()})}}]),angular.module("JFS_Admin").factory("User",["$q","$http","$cookies","$rootScope","$state","$filter",function(a,b,c,d,e,f){var g,h,i,j={data:{currentTextConversation:-1}};return d.$on("IdleStart",function(){console.log("start")}),d.$on("IdleWarn",function(a,b){console.log(b)}),d.$on("IdleTimeout",function(){console.log("timeout"),j.logout()}),d.$on("IdleEnd",function(){console.log("end")}),j.logout=function(){d.User=null,c.remove("user"),d.state=e.current,e.go("login")},j.getToken=function(){var c=a.defer();return angular.isDefined(h)?c.resolve(h):j.getCurrent().then(function(){b({method:"POST",url:"/Secure/OAUTH/getToken/",data:{grant_type:"password",client_id:"testclient",client_secret:"testpass",username:g.username,password:g.hash_pw}}).then(function(a){h=a.data,c.resolve(a)},function(a,b,d,e){c.reject("Error: request returned status "+b)})}),c.promise},j.Socket=function(a){"newsms"==a.event&&j.data.TextMessages.push(a.data)},j.setCurrentConversation=function(a){j.data.currentTextConversation=a,b({method:"PATCH",url:"https://jfsapp.com/Secure/API/Messages/MarkConversation/"+a+"/",params:{access_token:d.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(){j.getTexts()})},j.addText=function(a){},j.getTexts=function(){b({method:"GET",url:"https://jfsapp.com/Secure/API/Texts/",params:{access_token:d.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(a){j.data.TextMessages=a.data},function(a){})},j.sendText=function(c,e){var f=a.defer(),g={to:e,message:c};return b({method:"post",url:"https://jfsapp.com/Secure/API/Text/",params:{access_token:d.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"},data:g}).then(function(a){j.getTexts(),f.resolve(a.data)},function(a){f.reject(a)}),f.promise},j.getUserList=function(){var c=a.defer();return angular.isDefined(i)?c.resolve(i):b({method:"GET",url:"https://jfsapp.com/Secure/API/Users/",params:{access_token:d.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(a){c.resolve(a.data),j.data.userList=a.data},function(a){c.reject(a)}),c.promise},j.getTexts(),j.getUserList(),j}]),angular.module("JFS_Admin").factory("Functions",["toastr","$uibModal",function(a,b){var c={},d=window.Notification||window.mozNotification||window.webkitNotification;return d.requestPermission(),c.browserNotify=function(a,b,c){if("undefined"==typeof d)return!1;"undefined"!=typeof d&&d.requestPermission(function(a){}),"undefined"==typeof c&&(c="https://jfsapp.com/Images/Logos/icon50.png");new d(a,{body:b,dir:"auto",lang:"EN",tag:"JFSNotification",icon:c});return!0},c.Toast=function(b,c,d){a.info(d)},c.SQLDate=function(a){return null===a||""===a?null:new Date(a+"z")},c.OpenModal=function(a,c,d){var e=b.open({animation:!0,templateUrl:a,controller:"ModalCtrl",size:c,resolve:{items:function(){return d}}});e.result.then(function(a){console.log(a)},function(){console.log("done")})},c}]),angular.module("JFS_Admin").factory("recruit",["$rootScope","$http",function(a,b){var c={data:{}};return c.setRecruit=function(d){b({method:"GET",url:"https://jfsapp.com/Secure/API/Recruit/"+d+"/",params:{access_token:a.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(a){c.data.info=a.data},function(a){console.log(a)})},c}]),angular.module("JFS_Admin").controller("AgentsCtrl",["$scope","Agents",function(a,b){a.Agents=[],b.getAgents().then(function(b){a.Agents=b})}]),angular.module("JFS_Admin").factory("Agents",["$rootScope","$q","$http",function(a,b,c){var d={};return d.getAgents=function(){var d=b.defer();return c({method:"GET",url:"https://jfsapp.com/Secure/API/Agents/",params:{access_token:a.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(a){d.resolve(a.data)},function(a){d.reject(a)}),d.promise},d}]),angular.module("JFS_Admin").factory("Recruits",["$q","$http","$rootScope","recruit","Functions",function(a,b,c,d,e){var f={data:{}};return f.Socket=function(a){if("recruitupdated"===a.event){var b=_.findIndex(f.data.List,{INDV_ID:a.data.ID});f.data.List[b]=a.data,f.updateRecruits(),e.Toast("info",a.AlertTitle,a.AlertMessage),d.data.info.INDV_ID==a.data.ID&&d.setRecruit(a.data.ID)}},f.updateRecruits=function(){var d=a.defer();return b({method:"GET",url:"https://jfsapp.com/Secure/API/Recruits/",params:{access_token:c.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(a){f.data.List=a.data,d.resolve(a.data)},function(a){d.reject(a)}),d.promise},f.updateRecruits(),f}]),angular.module("JFS_Admin").filter("phone",function(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(b.match(/[^0-9]/))return a;var c,d,e;switch(b.length){case 10:c=1,d=b.slice(0,3),e=b.slice(3);break;case 11:c=b[0],d=b.slice(1,4),e=b.slice(4);break;case 12:c=b.slice(0,3),d=b.slice(3,5),e=b.slice(5);break;default:return a}return 1==c&&(c=""),e=e.slice(0,3)+"-"+e.slice(3),(c+" ("+d+") "+e).trim()}}),angular.module("JFS_Admin").controller("MessagesCtrl",["$scope","User",function(a,b){a.User=b.data,a.showConversation=function(a){b.setCurrentConversation(a)},a.sendText=function(c,d){b.sendText(d,c),a.newTextMessage=""}}]),angular.module("JFS_Admin").factory("Socket",["$rootScope","Recruits","User","Functions",function(a,b,c,d){var e={};return a.conn.onmessage=function(a){var e=angular.fromJson(a.data);angular.isDefined(e.browsernotification)&&d.browserNotify(e.browsernotification.Title,e.browsernotification.Body,e.browsernotification.Icon),"recruit"==e.type&&b.Socket(e),"user"==e.type&&c.Socket(e)},e}]),angular.module("JFS_Admin").controller("TaskCtrl",["$rootScope","$scope","User","Functions","Task","$sce",function(a,b,c,d,e,f){b.ExpandedView={},b.sort=function(a){b.sortKey=a,b.reverse=!b.reverse},b.User=c.data,b.Tasks=e.data,b.comments=[],b.addComment=function(c){var d=new Date,e={text:c,date:d,User_ID:a.currentUser.Info.user_id,photo:a.currentUser.Info.display_photo,User:a.currentUser.Info.display_name};b.comments.push(e),b.text=""},e.getAllTasks(),b.updateTask=function(a){e.updateTask(a)},b.to_trusted=function(a){return f.trustAsHtml(a)},b.showTask=function(a){b.ExpandedView.show=!0,e.getTask(a.Task_ID)}}]),angular.module("JFS_Admin").controller("ModalCtrl",["$scope","$uibModalInstance","items",function(a,b,c){a.CloseModal=function(){b.dismiss("cancel")}}]),angular.module("JFS_Admin").factory("Task",["$rootScope","$http","$q","Functions",function(a,b,c,d){var e={data:{}};return e.getUsersTasks=function(d){d="undefined"!=typeof d?d:!1;var f=c.defer();return b({method:"GET",url:"https://jfsapp.com/Secure/API/User/Assigned/",params:{access_token:a.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass",detail:d}}).then(function(a){e.data.currentUsersTasks=a.data,f.resolve(a.data)},function(a){f.reject(a)}),f.promise},e.getAllTasks=function(d){d="undefined"!=typeof d?d:!1;var f=c.defer();return b({method:"GET",url:"https://jfsapp.com/Secure/API/Tasks/",params:{access_token:a.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass",detail:d}}).then(function(a){e.data.allTasks=a.data,f.resolve(a.data)},function(a){f.reject(a)}),f.promise},e.getTask=function(f){var g=c.defer();return b({method:"GET",url:"https://jfsapp.com/Secure/API/Task/"+f+"/",params:{access_token:a.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(a){a.data[0].Due_Date=d.SQLDate(a.data[0].Due_Date),a.data[0].Created_Date=d.SQLDate(a.data[0].Created_Date),a.data[0].Reminder_Date=d.SQLDate(a.data[0].Reminder_Date),e.data.currentTask=a.data[0],g.resolve(a.data[0])},function(a){g.reject(a)}),g.promise},e.updateTask=function(c){b({method:"PATCH",url:"https://jfsapp.com/Secure/API/Task/",params:{access_token:a.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"},data:c}).then(function(a){e.getUsersTasks(),e.getTask(c.Task_ID),e.getAllTasks(c.Task_ID)})},e.init=function(){e.getUsersTasks()},e.init(),e}]),angular.module("JFS_Admin").filter("sqldate",["$filter",function(a){return function(b,c){return null===b?"":a("date")(new Date(b+"z"),c)}}]),angular.module("JFS_Admin").controller("ReportCtrl",["$scope","$rootScope","$http","$state","User","FileSaver","Blob",function(a,b,c,d,e,f,g){a.ColorTests={},a.getColorStatus=function(){c({method:"GET",url:"https://jfsapp.com/Secure/API/Recruits/NextStep/color/",params:{access_token:b.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){a.ColorStatus=b.data},function(a){})},a.getColorStatus(),c({method:"GET",url:"https://jfsapp.com/Secure/API/ColorQuiz/",params:{access_token:b.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){a.ColorTests=b.data},function(a){}),a.downloadTest=function(a){a.statusspinner="fa fa-spinner fa-spin",c({method:"GET",url:"https://jfsapp.com/Secure/API/ColorQuiz/Print/"+a.Test_Token+"/",responseType:"arraybuffer",params:{access_token:b.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){var c=new g([b.data],{type:"application/pdf"});f.saveAs(c,a.FNAME+"_"+a.LNAME+"_ColorTest.pdf"),a.statusspinner=""})},a.downloadReport=function(a){a.statusspinner="fa fa-spinner fa-spin",c({method:"GET",url:"https://jfsapp.com/Secure/API/PrintReport/"+a.url+"/",responseType:"arraybuffer",params:{access_token:b.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){var c=new g([b.data],{type:"application/pdf"});f.saveAs(c,a.name+".pdf"),a.statusspinner=""})},a.deleteColorTest=function(d){c({method:"DELETE",url:"https://jfsapp.com/Secure/API/ColorQuiz/"+d+"/",params:{access_token:b.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){var c=_.findIndex(a.ColorTests,{Test_Token:d});a.ColorTests.splice(c,1)},function(a){})},a.goToState=function(a,b){d.go(a,b)},a.getPopStatus=function(){c({method:"GET",url:"https://jfsapp.com/Secure/API/Recruits/NextStep/pop/",params:{access_token:b.currentUser.Token.access_token,client_id:"testclient",client_secret:"testpass"}}).then(function(b){a.PopStatus=b.data},function(a){})},a.getPopStatus()}]),angular.module("JFS_Admin").filter("cmdate",["$filter",function(a){return function(b,c){return null===b?"":a("date")(new Date(b),c,"UTC")}}]),angular.module("JFS_Admin").run(["$templateCache",function(a){a.put("views/Agents/dashboard.html",'<div class="dashboard"> <table> <tr class="title"> <td colspan="6"> Agents </td> </tr> <tr> <th></th> <th>Phone</th> <th>Email</th> <th>Address</th> <th>City</th> <th>State</th> </tr> <tr ng-repeat="agent in Agents"> <td class="profile" ng-click="open()"><img ng-src="{{\'https://jfsapp.com\'+agent.profilepic}}"> <div class="info"> <span><h3>{{agent.FirstName + \' \' + agent.LastName}}</h3></span><span class="market"><b>Area:</b></span><span>{{agent.City}}</span></div> </td> <td>{{agent.Phone}}</td> <td>{{agent.Email}}</td> <td>{{agent.Adress}}</td> <td>{{agent.City}}</td> <td>{{agent.State}}</td> </tr> </table> </div>'),a.put("views/Agents/index.html","<ui-view></ui-view>"),a.put("views/Login/index.html",'<div class="view login"> <div class="center both"> <div class="container" style="text-align:center"> <img src="images/JohnsonFinanceMain.e66b71c7.png"> <form ng-submit="login(_email, _password)"> <div class="input-group"> <span class="input-group-addon" id="basic-addon1"><i class="fa fa-user"></i></span> <input type="text" class="form-control" ng-model="_email" placeholder="Username" aria-describedby="basic-addon1"> </div> <div class="input-group"> <span class="input-group-addon" id="basic-addon2"><i class="fa fa-lock"></i></span> <input type="password" class="form-control" ng-model="_password" placeholder="password" aria-describedby="basic-addon2"> </div> <button class="btn btn-primary submit">Sign In</button> </form> <div class="jumbotron" ng-hide="true"> <form ng-submit="login(_email, _password)"> <div class="input-group"> <span class="input-group-addon" id="basic-addon1"><i class="fa fa-user"></i></span> <input type="text" class="form-control" ng-model="_email" placeholder="Username" aria-describedby="basic-addon1"> </div> <div class="input-group"> <span class="input-group-addon" id="basic-addon2"><i class="fa fa-lock"></i></span> <input type="password" class="form-control" ng-model="_password" placeholder="password" aria-describedby="basic-addon2"> </div> <button class="btn btn-primary submit">Submit</button> </form> </div> </div> </div> </div>'),a.put("views/MessageCenter/index.html",'<div class="container-fluid view messaging"> <div class="row view"> <div class="col-md-3 sidenav"> <div class="input-group search"> <input ng-model="noteSearch" type="text" class="form-control" placeholder="Search..." aria-describedby="basic-addon2"> <span class="input-group-addon" id="basic-addon2"><i class="fa fa-search"></i></span> </div> <div class="main"> <div style="overflow-x: hidden"> <li class="summary" ng-repeat="(key, value) in User.TextMessages|orderBy:[\'-date_recieved\']| groupBy:\'[id_number]\'" ng-click="showConversation(value[0].id_number)"> <a style="margin-top:0;top:0;display:inline-block;position:relative" ng-repeat="text in value|orderBy:\'-date_recieved\'|limitTo:1"> <img style="height:50px;width:50px;border-radius:100%;display:inline-block;top:5px;position:absolute" ng-src="https://jfsapp.com/Images/Recruits/{{text.ProfilePic || \'blank.jpg\'}}"> <div style="display:inline-block;height:100%;width:300px;position:absolute;padding-left:60px"> <div style="color:black">{{text.RecruitName||text.id_number|phone}}</div> <small>{{text.message|truncate:80}}...</small> </div> <div ng-show="(value|filter:{\'status\':\'0\',\'type\':\'0\'}).length > 0" style="display:inline-block;position:absolute;right:5px;top:5px"> <a><span style="background-color:#FF5454;border-radius:100%" class="badge shake">{{(value|filter:{\'status\':\'0\',\'type\':\'0\'}).length}}</span></a> </div> </a> </li> </div> </div> </div> <div class="col-md-9 mainBody"> <div class="chat" ng-repeat="(key, value) in User.TextMessages|filter:{id_number:User.currentTextConversation}|orderBy:[\'-date_recieved\']| groupBy:\'[id_number]\'" style="height:100%;width:100%;background-color: #555"> <div class="shadow-1" style="height:70px;width:100%;background-color:#555;padding:20px;display:block;color:white;position:absolute"> {{value[0].RecruitName||value[0].id_number|phone}} <button type="button" class="close" aria-hidden="true" ng-click="sidemenu.vis=false" style="font-size:20pt;vertical-align:middle">&times;</button> </div> <div style="height:100%;padding-top:70px;padding-bottom:270px"> <div class="chatbody" scroll-glue> <div class="chat-bubble" ng-class="{right: (text.type==0), left: (text.type==1)}" ng-repeat="text in value| orderBy:[\'date_recieved\']">{{text.message}}</div> </div> <div> </div> <div class="chat-message clearfix"> <textarea ng-model="newTextMessage" placeholder="Type your message" rows="3"></textarea> <button class="btn" ng-click="sendText(value[0].id_number,newTextMessage)">Send</button> </div> <!-- end chat-message --> </div> </div> </div> </div> </div>'),a.put("views/Modals/TaskModal.html",'<div class="modal-header task-modal-header"> <span>To Do</span> <span class="icons"> <button type="button" class="close" aria-hidden="true" ng-click="CloseModal()" style="font-size:20pt;vertical-align:middle">&times;</button> </span> </div> <div class="modal-body scrollbar" resize style="height:{{windowHeight-150}}px" ng-controller="TaskCtrl"> <div class="task_body"> <div class="row" style="width:100%;padding-left:20px;display:block"> <h3 ng-click="Title.$show()" class="clickable" onaftersave="updateTask(Tasks.currentTask)" editable-text="Tasks.currentTask.Title" e-form="Title" style="float:left;max-width:300px"> {{Tasks.currentTask.Title}} </h3> <div style="float:right; line-height:50px;vertical-align:middle;margin-right:20px"> <span>Priority </span> <div ng-click="Tasks.currentTask.Priority=\'Low\';updateTask(Tasks.currentTask)" ng-style="Tasks.currentTask.Priority==\'Low\' &&{\'background-color\':\'#EBEBEB\'}" class="clickable" style="z-index:10;border:1px solid #EBEBEB;text-align:center;border-radius:100%;color:white;position:relative;margin-top:15px;height:20px;width:20px;display:inline-block;margin-left:10px"></div> <div ng-click="Tasks.currentTask.Priority=\'Medium\';updateTask(Tasks.currentTask)" ng-style="Tasks.currentTask.Priority==\'Medium\' &&{\'background-color\':\'#FFE372\'}" class="clickable" style="z-index:10;border:1px solid #E6C129;text-align:center;border-radius:100%;color:white;height:20px;width:20px;display:inline-block;margin-left:10px"></div> <div ng-click="Tasks.currentTask.Priority=\'High\';updateTask(Tasks.currentTask)" ng-style="Tasks.currentTask.Priority==\'High\' &&{\'background-color\':\'#FF7C72\'}" class="clickable" style="z-index:10;border:1px solid #E63729;text-align:center;border-radius:100%;color:white;height:20px;width:20px;display:inline-block;margin-left:10px"></div> </div> </div> <section class="row" style="display:block;margin-top:30px;position:relative;text-align:center"> <div class="col-md-4" style="text-align:center;padding:0;padding-left:20px"> <p class="input-group" ng-init="showScheduled=false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="showScheduled=true"><i class="fa fa-bell-o"></i></button> </span> <input ng-change="updateTask(Tasks.currentTask)" type="text" class="form-control" uib-datepicker-popup ng-model="Tasks.currentTask.Created_Date" is-open="showScheduled" datepicker-options="dateOptions" ng-required="true" close-text="Close"> </p> </div> <div class="col-md-4" style="padding:0px;padding-left:10px;padding-right:10px"> <p class="input-group" ng-init="showReminder=false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="showReminder=!showReminder" style="background-color:#FFE372;color:#a68500"><i class="fa fa-bell-o"></i></button> </span> <input ng-change="updateTask(Tasks.currentTask)" type="text" class="form-control" uib-datepicker-popup ng-model="Tasks.currentTask.Reminder_Date" is-open="showReminder" datepicker-options="dateOptions" ng-required="true" close-text="Close"> </p> </div> <div class="col-md-4" style="padding:0;padding-right:20px"> <p class="input-group" ng-init="showDue=false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="showDue=!showDue" style="background-color:#FF7C72;color:#8d0a00"><i class="fa fa-clock-o"></i></button> </span> <input ng-change="updateTask(Tasks.currentTask)" type="text" class="form-control" uib-datepicker-popup ng-model="Tasks.currentTask.Due_Date" is-open="showDue" datepicker-options="dateOptions" ng-required="true" close-text="Close"> </p> </div> </section> <section style="padding:30px;top:50px"> <span>Description</span> <div ng-init="edit=false" ng-show="!edit" ng-click="edit=!edit" class="well clickable description" ng-bind-html="to_trusted(Tasks.currentTask.Detail)"> </div> <div ng-show="edit" style="display:block;position:relative"> <div summernote ng-model="Tasks.currentTask.Detail"></div> <div ng-click="edit=!edit;updateTask(Tasks.currentTask)" class="btn shadow-4" style="position:absolute; bottom:-10px;left:0px;background-color:#3B78A3;color:white;border-radius:0;width:100%"> <i class="fa fa-save"></i> </div> </div> </section> <section style="display:block;margin-top:20px;padding-left:20px"> <div class="row"> <div class="col-md-6" style="height:50px;text-align:left"> <div style="display:block;text-decoration:underline">Assigned To:</div> <img class="task_image_small" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{Tasks.currentTask.Assigned_DisplayPhoto}}"> <h5 style="display:inline-block;margin-right:10px" onaftersave="updateTask(Tasks.currentTask)" editable-select="Tasks.currentTask.User_ID" e-ng-options="s.id as s.display_name for s in User.userList"> {{Tasks.currentTask.Assigned_DisplayName}} </h5> </div> <div class="col-md-6" style="height:50px;text-align:left;margin-top:10px"> <div style="display:block;text-decoration:underline">Assigned By:</div> <img class="task_image_small" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{Tasks.currentTask.FlaggedBy_DisplayPhoto}}"> <h5 style="display:inline-block;margin-right:10px"> {{Tasks.currentTask.FlaggedBy_DisplayName}} </h5> </div> </div> <div class="row"> <div class="col-md-6"> <div style="display:block;text-decoration:underline">Regarding:</div> <img class="task_image_small" ng-src="https://jfsapp.com/Images/Recruits/{{Tasks.currentTask.ProfilePic||\'blank.jpg\'}}"> <h5 style="display:inline-block;margin-right:10px"> {{Tasks.currentTask.FNAME + \' \' +Tasks.currentTask.LNAME}} </h5> </div> <div class="col-md-6" style="height:50px;text-align:left;margin-top:10px"> </div> </div> </section> <hr> <div class="task_comments"> <span><i class="fa fa-list"></i> Sub Tasks</span> <div style="text-align:center;border-radius:100%;background-color:#E63729;color:white;height:20px;width:20px;display:inline-block;margin-left:10px" class="shadow-1"><i class="fa fa-plus"></i></div> <hr> </div> <div class="task_comments"> <span><i class="fa fa-paperclip"></i> Attachments</span> <div style="text-align:center;border-radius:100%;background-color:#E63729;color:white;height:20px;width:20px;display:inline-block;margin-left:10px" class="shadow-1"><i class="fa fa-plus"></i></div> <hr> </div> <div class="task_comments"> <span><i class="fa fa-comments"></i> Comments</span> <hr> <div ng-repeat="comment in comments"> <div class="row"> <div class="col-md-3" style="width:60px"> <img class="task_image" ng-src="/Images/ProfilePhotos/{{comment.photo}}"> </div> <div class="col-md-9"> <h5 style="display:inline-block;margin-right:10px"> {{comment.User}} </h5><time class="time" am-time-ago="comment.date"></time> <br> {{comment.text}} </div> </div> <hr> </div> <div> <table style="width:100%"> <tr> <td style="padding:5px; vertical-align:top;margin:0;width:65px"> <img class="task_image" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{currentUser.Info.display_photo}}"> </td> <td style="margin:0"> <textarea ng-model="text" style="width:100%;height:100px;text-align:left"></textarea> <div class="btn" ng-click="addComment(text)" style="margin-left:auto;margin-right:0px;position:relative;display:block;background-color:#3B78A3;color:white;width:100px"> reply </div> </td> </tr> </table> </div> </div> </div> </div>'),a.put("views/Recruiting/dashboard.html",'<div class="dashboard"> <table> <tr class="title"> <td colspan="12"> Recruits </td> </tr> <tr> <th></th> <th>POP</th> <th>Color</th> <th>TODO</th> <th>Email</th> <th>Type</th> <th>Source</th> <th>Phone</th> <th>Address</th> <th>City</th> <th>Zip</th> <th>State</th> </tr> <tr context-menu="recruitListOptions" ng-repeat="recruit in Recruits.List"> <td class="profile"><img ng-hide="true" ng-src="{{\'https://jfsapp.com\'+agent.profilepic}}"> <div class="info"> <span><h3>{{recruit.FNAME + \' \' + recruit.LNAME}}</h3></span></div> </td> <td>{{recruit.POP}}</td> <td>{{recruit.fa}}</td> <td>{{recruit.NextStep}}</td> <td>{{recruit.EMAIL}}</td> <td>{{recruit.Type}}</td> <td>{{recruit.Source}}</td> <td>{{recruit.BUS+PH_NBR}}</td> <td>{{recruit.LINE_ONE_ADDR}}</td> <td>{{recruit.CITY_NAME}}</td> <td>{{recruit.PSTL_CD}}</td> <td>{{recruit.ST_CD}}</td> </tr> </table> </div>'),a.put("views/Recruiting/index.html",'<ui-view style="padding:5px;display:block"></ui-view>'),a.put("views/Reporting/Color_Test.html",'<div class="Color_Test scrollbar"> <div class="PrintButton shadow-4 clickable" ng-click="downloadReport({url:\'ColorTest\',name:\'Color_Test\'})"> <i class="fa fa-print"></i> </div> <div class="header"> Pending Tests </div> <div style="margin-left:auto;margin-right:auto;width:auto;display:block;margin-top:20px;position:relative;padding-left:10px"> <table class="color_test shadow-3"> <tr class="shadow-1-row"> <th>Recruit</th> <th>Status</th> <th>Date Sent</th> <th>Last Contact</th> <th></th> </tr> <tr ng-repeat="test in ColorTests" ng-dblclick="goToState(\'RecruitingLiscence\',{user: test.Recruit_ID,UserInfoID:User.user_id})"> <td>{{test.FNAME +\' \'+test.LNAME}}</td> <td>{{test.Status}}</td> <td>{{test.Date_Assigned| cmdate : \'MMM d yyyy hh:mm\'}}</td> <td>10/10/2016</td> <td ng-show="test.Status!=\'Completed\'"><div class="btn-group"> <div class="btn btn-info"> Follow Up </div><div class="btn btn-danger" ng-click="deleteColorTest(test.Test_Token)"> Give Up </div></div></td> <td ng-show="test.Status==\'Completed\'"> <div class="btn btn-success" ng-click="downloadTest(test)"> Download <i ng-class="test.statusspinner"></i> </div></td> </tr> </table> </div> <div ng-repeat="(key, value) in ColorStatus |orderBy:[\'NextStep\']| groupBy:\'[NextStep]\' " style="margin-top:20px"> <div class="header"> {{key}} </div> <div style="margin-left:auto;margin-right:auto;width:auto;display:block;margin-top:20px;position:relative;padding-left:10px"> <table class="color_test shadow-3"> <tr class="shadow-1-row"> <th>Recruit</th> <th>Status</th> <th>Date Sent</th> <th>Last Contact</th> <th></th> </tr> <tr ng-repeat="person in value" ng-dblclick="goToState(\'RecruitingLiscence\',{user: person.INDV_ID,UserInfoID:User.user_id})"> <td>{{person.FNAME +\' \'+person.LNAME}}</td> <td>{{test.Status}}</td> <td>{{test.Date_Assigned| cmdate : \'MMM d yyyy hh:mm\'}}</td> <td>10/10/2016</td> <td ng-show="test.Status!=\'Completed\'"><div class="btn-group"> <div class="btn btn-info"> Follow Up </div><div class="btn btn-danger" ng-click="deleteColorTest(test.Test_Token)"> Give Up </div></div></td> <td ng-show="test.Status==\'Completed\'"> <div class="btn btn-success" ng-click="downloadTest(test)"> Download <i ng-class="test.statusspinner"></i> </div></td> </tr> </table> </div> </div> </div>'),a.put("views/Reporting/Dashboard.html",""),a.put("views/Reporting/Pop_Test.html",'<div class="Color_Test"> <div class="PrintButton shadow-4 clickable" ng-click="downloadReport({url:\'NextStep\',name:\'POP_Test\'})"> <i class="fa fa-print"></i> </div> <div ng-repeat="(key, value) in PopStatus|orderBy:[\'NextStep\'] | groupBy:\'[NextStep]\' " style="margin-top:20px"> <div class="header"> {{key}} </div> <div style="margin-left:auto;margin-right:auto;width:auto;display:block;margin-top:20px;position:relative;padding-left:10px"> <table class="color_test shadow-3"> <tr class="shadow-1-row"> <th>Recruit</th> <th>Status</th> <th>Date Sent</th> <th>Last Contact</th> <th></th> </tr> <tr ng-repeat="person in value" ng-dblclick="goToState(\'RecruitingLiscence\',{user: person.INDV_ID,UserInfoID:User.user_id})"> <td>{{person.FNAME +\' \'+person.LNAME}}</td> <td></td> <td></td> <td>10/10/2016</td> <td ng-show="test.Status!=\'Completed\'"><div class="btn-group"> <div class="btn btn-info"> Follow Up </div><div class="btn btn-danger" ng-click="deleteColorTest(person.Test_Token)"> Give Up </div></div></td> <td ng-show="test.Status==\'Completed\'"> <div class="btn btn-success" ng-click="downloadTest(person)"> Download <i ng-class="test.statusspinner"></i> </div></td> </tr> </table> </div> </div> </div>'),a.put("views/Reporting/index.html",'<div class="view sidemenu_layout"> <div ng-init="show={\'sidebar\':true}" ng-show="show.sidebar" class="sidemenu"> <div class="header" ng-dblclick="goToState(\'Reporting.Dashboard\',null)"> Recruiting Reports<div class="button"><i class="fa fa-bars" ng-click="show.sidebar=!show.sidebar;$event.stopPropagation()"></i></div> </div> <div class="item" ui-sref="app.Reporting.ColorTest"> Color Test </div> <div class="item" ui-sref="app.Reporting.PopTest"> Pop Test </div> </div> <div class="body" ng-style="!show.sidebar && {\'padding-left\':\'0px\'}"> <div class="reporting" ui-view></div> </div> <div class="sidemenu_tab" ng-show="!show.sidebar" ng-click="show.sidebar=!show.sidebar"> <i class="fa fa-bars"></i> </div> </div>'),
a.put("views/Shared/header.html",'<!--Start Navigation Bar--> <div class="hidden-print"> <div class="navbar shadow-3" style="position:absolute" role="navigation"> <div class="container-fluid"> <ul class="nav navbar-nav navbar-actions navbar-left" ng-click="Visibility.sidebar=!Visibility.sidebar" style="left:0px; display:block;position:relative" ng-style="Visibility.sidebar && {\'left\':\'10px\'}||{\'left\':\'-240px\'}"> <li class="visible-md visible-lg"><a id="main-menu-toggle"><i class="fa fa-th-large"></i></a></li> <li class="visible-xs visible-sm"><a id="sidebar-menu"><i class="fa fa-navicon"></i></a></li> </ul> <ul class="nav navbar-nav navbar-right"> <li class="dropdown visible-md visible-lg" uib-dropdown is-open="messages.isopen" auto-close="outsideClick"> <a uib-dropdown-toggle><i class="fa fa-comments"></i><span class="badge shake">{{(UserData.TextMessages|filter:{\'status\':\'0\',\'type\':0}).length}}</span></a> <ul class="dropdown-menu shadow-5" style="width:300px;overflow-x: hidden"> <li class="dropdown-menu-header"> <strong>Messages</strong> </li> <div class="scrollbar" style="max-height:500px;overflow-x: hidden"> <li style="display:block;position:relative" class="avatar" ng-click="ViewMessage(value[0].id_number)" ng-repeat="(key, value) in UserData.TextMessages|filter:{\'type\':\'0\',\'status\':\'0\'}|orderBy:[\'status\',\'-date_recieved\']| groupBy:\'[id_number]\'"> <a style="margin-top:0;top:0;display:inline-block;position:relative" ng-repeat="text in value|orderBy:\'-date_recieved\'|limitTo:1"> <img style="height:50px;width:50px;border-radius:100%;display:inline-block;top:5px;position:absolute" ng-src="https://jfsapp.com/Images/Recruits/{{text.ProfilePic || \'blank.jpg\'}}"> <span class="badge shake">{{(value|filter:{\'status\':\'0\'}).length}}</span> <div style="display:inline-block:height:100%;width:300px;position:absolute;padding-left:60px"> <div style="color:black">{{text.RecruitName||text.id_number|phone}}</div> <small>{{text.message|truncate:80}}...</small> </div> </a> </li> </div> <div> <li class="dropdown-menu-footer text-center"> <strong>View all notification</strong> </li> </div> </ul> </li> <li class="dropdown visible-md visible-lg" uib-dropdown is-open="status.isopen" auto-close="outsideClick"> <a uib-dropdown-toggle ng-disabled="disabled"><i class="fa fa-envelope-o"></i><span class="badge">{{Emails.Unread}}</span></a> <ul class="dropdown-menu" style="max-height:400px;width:400px;overflow-y: scroll;overflow-x: hidden;margin-right:-100px"> <li class="dropdown-menu-header"> <strong>{{Emails.AllEmails.Total}}</strong> </li> <li class="avatar" ng-repeat="email in Emails.AllEmails" style="width:400px;border-bottom:5px;border-color:black;overflow-x: hidden"> <a style="width:400px"> <div ng-click="showPopup(email,\'myModalContent.html\');" style="width:400px"> <img class="avatar" src=""> <div style="width:250px;overflow:hidden">{{email.subject}}</div> <small>{{email.date}}</small> </div> <span class="label label-info" style="background:none"><i class="fa fa-navicon" style="color:black;z-index:9" ng-click="email.Expand =1"></i></span> <div class="emailMenu" ng-show="email.Expand==1" style="top:0px;display:block;position:absolute;right:0px;height:100%;width:150px;background-color:blue;z-index:10"> <div style="float:left;background-color:green;position:relative;height:100%;width:40%;color:white;line-height:100%;text-align:center;vertical-align:middle"><i style="color:white" class="fa fa-mail-reply"></i></div> <div style="float:left;background-color:red;position:relative;height:100%;width:40%;line-height:100%;text-align:center;vertical-align:middle"><i style="color:white;vertical-align:middle;font-weight:bolder" class="fa fa-trash-o"></i></div> <div ng-click="email.Expand =2" style="float:left;background-color:grey;position:relative;height:100%;width:20%;line-height:100%;text-align:center;vertical-align:middle"><i style="color:white" class="fa fa-remove"></i></div> </div> </a> </li> <li class="dropdown-menu-footer text-center"> <a href="page-inbox.html">{{isPopupVisible}}</a> </li> </ul> <script type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n							<button type="button" class="close" aria-hidden="true" ng-click="closePopup()">&times;</button>\n							<h3>{{Currentemail.subject}}</h3>\n						</div>\n						<div class="modal-body">\n							<strong>From:</strong> {{Currentemail.from}}\n							<br />\n							<strong>Date:</strong> {{Currentemail.date}}\n							<br />\n							<br />\n							<iframe src=\'{{ "/Test/GetSpecificEmail.php?id="+Currentemail.uid}}\' width="100%" height="300" style="border:none"></iframe>\n\n						</div>\n						<div class="modal-footer">\n							<a class="btn btn-primary" ng-click="closePopup()">Close</a>\n						</div></script> </li> <li class="dropdown visible-md visible-lg" uib-dropdown is-open="notification.isopen" auto-close="outsideClick"> <a uib-dropdown-toggle><i class="fa fa-bell"></i><span class="badge shake">{{(Task.currentUsersTasks|filter:{\'Status\':\'new\'}).length}}</span></a> <ul class="dropdown-menu shadow-5" style="width:300px;overflow-x: hidden"> <li class="dropdown-menu-header"> <strong>New Tasks</strong> </li> <div class="scrollbar" style="max-height:500px;overflow-x: hidden"> <div ng-repeat="(key, value) in Task.currentUsersTasks|filter:{\'Status\':\'new\'}|orderBy:[\'Status\']| groupBy:\'[Recruit_ID]\'"> <li style="display:block;position:relative" class="avatar" ng-click="showDetails = ! showDetails;$event.stopPropagation()"> <a style="margin-top:0;top:0;display:inline-block;position:relative"> <span class="badge shake">{{(value|filter:{\'Status\':\'New\'}).length}}</span> <div style="display:inline-block:height:100%;width:300px;position:absolute;padding-left:15px"> <div style="color:black"> New Tasks Regarding:</div> <small>{{value[0].RecruitName||\'General\'}}</small> </div> </a> </li> <li context-menu="TaskOptions" ng-click="ViewTask(task.Task_ID)" class="clickable" style="padding:0;height:50px;line-height:50px;background-color:#eee" ng-show="showDetails" ng-repeat="task in value|orderBy:\'-CreatedDate\'"> <div style="overflow:hidden;height:50px;width:20px;margin:0;display:inline-block;position:absolute;border-bottom: 1px solid #E0E0E0" ng-style="task.Priority==\'Low\' &&{\'background-color\':\'#EBEBEB\'}||task.Priority==\'Medium\' &&{\'background-color\':\'#FFE372\'}||task.Priority==\'High\' &&{\'background-color\':\'#FF7C72\'}"> </div> <div style="display:inline-block;margin-left:25px"> <small style="color:black!important;font-weight:bolder">{{task.Title|truncate:36}}</small> <span ng-hide="task.Due_Date==null" style="background-color:#FF7C72;padding:2px;border-radius:2px;font-weight:normal;font-size:8pt;color:white;margin-left:5px;margin-right:5px">deadline</span><time class="time" am-time-ago="task.Due_Date"></time> </div> </li> </div> <li class="dropdown-menu-header"> <strong>New Notifications</strong> </li> </div> <div> <li class="dropdown-menu-footer text-center"> <strong>View all notification</strong> </li> </div> </ul> </li> <li class="dropdown visible-md visible-lg" uib-dropdown is-open="setting.isopen" auto-close="outsideClick"> <a uib-dropdown-toggle ng-disabled="disabled"><i class="fa fa-gears"></i></a> <ul class="dropdown-menu update-menu" role="menu"> <li><a href="#"><i class="fa fa-database"></i> Database </a> </li> <li><a href="#"><i class="fa fa-bar-chart-o"></i> Connection </a> </li> <li><a href="#"><i class="fa fa-bell"></i> Notification </a> </li> <li><a href="#"><i class="fa fa-envelope"></i> Message </a> </li> <li><a href="#"><i class="fa fa-flash"></i> Traffic </a> </li> <li><a href="#"><i class="fa fa-credit-card"></i> Invoices </a> </li> <li><a href="#"><i class="fa fa-dollar"></i> Finances </a> </li> <li><a href="#"><i class="fa fa-thumbs-o-up"></i> Orders </a> </li> <li><a href="#"><i class="fa fa-folder"></i> Directories </a> </li> <li><a href="#"><i class="fa fa-users"></i> Users </a> </li> </ul> </li> <li class="dropdown visible-md visible-lg" uib-dropdown is-open="usersetting.isopen" auto-close="outsideClick"> <a uib-dropdown-toggle ng-disabled="disabled"><img class="user-avatar" style="border-radius:20px" ng-src="{{\'https://jfsapp.com/Images/ProfilePhotos/\' +currentUser.Info.display_photo}}" alt="user-mail">Cody</a> <ul class="dropdown-menu"> <li class="dropdown-menu-header"> <strong>Account</strong> </li> <li><a href="#UserSettings"><i class="fa fa-user"></i> Profile</a></li> <li><a href="../../../Users/account.php"><i class="fa fa-wrench"></i> Settings</a></li> <li><a href="page-invoice.html"><i class="fa fa-usd"></i> Payments <span class="label label-default">10</span></a></li> <li><a href="gallery.html"><i class="fa fa-file"></i> File <span class="label label-primary">27</span></a></li> <li class="divider"></li> <li><a ng-click="User.logout()"><i class="fa fa-sign-out"></i> Logout</a></li> </ul> </li> <li><a ng-click="User.logout()"><i class="fa fa-power-off"></i></a></li> </ul> </div> </div> <!--End Navigation Bar--> <!--Start Side Bar--> <div ng-show="Visibility.sidebar"> <div class="sidebar shadow-5 scrollbar" style="z-index:30;heigth:100%"> <div class="sidebar-collapse scrollbar" style="padding-bottom:30px;height:100%;overflow-x:hidden"> <div class="sidebar-header t-center"> <span><img class="text-logo" style="width:80%;diplay:block;margin-top:10px;position:relative" src="https://jfsapp.com/Images/Logos/logosimp3.png"></span> </div> <div class="sidebar-menu" style="margin-top:30px"> <ul class="nav nav-sidebar"> <li><a href="#Home"><i class="fa fa-laptop"></i><span class="text"> Dashboard</span></a></li> <li><a href="" ng-model="collapsed1" ng-click="collapsed1=!collapsed1"><i class="fa fa-user"></i><span class="text">Cody Johnson</span><span class="fa fa-angle-down pull-right"></span></a></li> <ul class="subMenu" ng-show="collapsed1"> <li><a ui-sref="app.Messages"><i class="fa fa-envelope"></i><span class="text">Message Center</span></a></li> <li><a ui-sref="app.Tasks"><i class="fa fa-tasks" aria-hidden="true"></i><span class="text">Tasks</span></a></li> <li><a ui-sref="Notes"><i class="fa fa-pencil" aria-hidden="true"></i><span class="text">Notes</span></a></li> <li><a href="../../../Users/account.php"><i class="fa fa-gear"></i><span class="text"> Settings</span></a></li> <li><a href="#Test"><i class="fa fa-book"></i><span class="text"> Contact Info</span></a></li> <li><a href="ui-elements.html"><i class="fa fa-bar-chart-o"></i><span class="text"> Update Numbers</span></a></li> </ul> <li><a href=""><i class="fa fa-bar-chart-o"></i><span class="text"> Reports</span></a></li> <li><a href="" ng-model="collapsed2" ng-click="collapsed2=!collapsed2"><i class="fa fa-pencil-square-o"></i><span class="text"> Training</span> <span class="fa fa-angle-down pull-right"></span></a></li> <ul class="subMenu" ng-show="collapsed2"> <li><a href="ui-sliders-progress.html"><i class="fa fa-envelope"></i><span class="text"> Videos</span></a></li> <li><a href="ui-nestable-list.html"><i class="fa fa-picture-o"></i><span class="text"> Documents</span></a></li> <li><a href="ui-nestable-list.html"><i class="fa fa-film"></i><span class="text"> Meeting Notes</span></a></li> </ul> <li><a href="" ng-model="collapsed3" ng-click="collapsed3=!collapsed3"><i class="fa fa-briefcase"></i><span class="text"> Rescources</span> <span class="fa fa-angle-down pull-right"></span></a></li> <ul class="subMenu" ng-show="collapsed3"> <li><a ui-sref="Resources.Style"><i class="fa fa-paint-brush"></i><span class="text">Style Guide</span></a></li> <li><a href="#SendEmail"><i class="fa fa-envelope"></i><span class="text"> Emails</span></a></li> <li><a href="#LostPassword"><i class="fa fa-picture-o"></i><span class="text"> Graphics</span></a></li> <li><a href="ui-nestable-list.html"><i class="fa fa-film"></i><span class="text"> Videos</span></a></li> <li><a href="ui-elements.html"><i class="fa fa-list"></i><span class="text"> Presentations</span></a></li> <li><a href="ui-elements.html"><i class="fa fa-file-text"></i><span class="text"> Marketing</span></a></li> </ul> <li><a href="/owncloud"><i class="fa fa-cloud"></i><span class="text">Drive</span></a></li> <li><a href="" ng-model="collapsed4" ng-click="collapsed4=!collapsed4"><i class="fa fa-group"></i><span class="text"> Manage Agents</span> <span class="fa fa-angle-down pull-right"></span></a></li> <ul class="subMenu" ng-show="collapsed4"> <li><a ui-sref="app.Agents.Dashboard"><i class="fa fa-align-left"></i><span class="text"> Agent List</span></a></li> <li><a href="ui-nestable-list.html"><i class="fa fa-outdent"></i><span class="text"> Add Agent</span></a></li> <li><a href="ui-elements.html"><i class="fa fa-list"></i><span class="text"> Reports</span></a></li> </ul> <li><a href="" ng-model="collapsed5" ng-click="collapsed5=!collapsed5"><i class="fa fa-sitemap"></i><span class="text"> Recruiting</span><span class="fa fa-angle-down pull-right"></span></a></li> <ul class="subMenu" ng-show="collapsed5"> <li><a href="#ToDoList"><i class="fa fa-align-left"></i><span class="text"> To Do List</span></a></li> <li><a href="#MyRecruits"><i class="fa fa-child"></i><span class="text"> Assigned To Me</span></a></li> <li><a href="#RecruitingList"><i style="color:#8DCC62" class="fa fa-users"></i><span class="text"> Recruits</span></a></li> <li><a ui-sref="app.Reporting.Dashboard"><i class="fa fa-bar-chart"></i><span class="text"> Reports</span></a></li> <li><a ui-sref="app.Recruiting.Dashboard"><i style="color:#FAC559" class="fa fa-users"></i><span class="text"> Recruiting Pool</span><span ng-model="collapsed6" ng-click="collapsed6=!collapsed6;$event.stopPropagation()" class="fa fa-angle-down pull-right"></span></a></li> <ul class="subMenu" ng-show="collapsed6"> <li><a ui-sref="LiscencedAgents({ search: {Source:\'Referal\'} })"><i style="font-size:15px" class="fa fa-user"></i><span class="text"> Referal</span></a></li> <li><a ui-sref="LiscencedAgents({ search: {Source:\'PO\'} })"><i style="" class="fa fa-user"></i><span class="text"> PO</span></a></li> <li><a ui-sref="LiscencedAgents({ search: {Source:\'COI\'} })"><i style="" class="fa fa-user"></i><span class="text"> COI</span></a></li> <li><a ui-sref="LiscencedAgents({ search: {Source:\'ARS\'} })"><i style="" class="fa fa-user"></i><span class="text"> ARS</span></a></li> <li><a ui-sref="LiscencedAgents({ search: {Source:\'ROD\'} })"><i style="" class="fa fa-user"></i><span class="text"> ROD</span></a></li> <li><a ui-sref="LiscencedAgents({ search: {Source:\'Other\'} })"><i style="" class="fa fa-user"></i><span class="text"> Other</span></a></li> </ul> </ul> </ul> </div> </div> </div> </div></div>'),a.put("views/Task/index.html",'<style>hr {\n    width: 100%;\n    border-color: #E0E0E0;\n  }\n\n  .task_list {\n    height: 50px;\n    border-bottom: 1px solid #E0E0E0;\n    display: block;\n    position: relative;\n    z-index: 0;\n  }</style> <div class="container-fluid view" fullscreen="taskIsFullscreen" only-watched-property class="scrollbar"> <div class="row view"> <div class="col-md-3 sidenav" style="background-color:white;padding:20px"> <!--<span style="right:0px;position:absolute"><i class="fa fa-bars fa-rotate-90" aria-hidden="true"></i></span>--> <p class="clickable"> <span ng-click="taskIsFullscreen = true"> <i class="fa fa-expand" aria-hidden="true"></i> Full Screen</span> </p> <p class="clickable"> <span ng-click="taskFilter.User_ID = currentUser.Info.id;TaskViewOptions.show_users=false"> <i class="fa fa-user" aria-hidden="true"></i> My Tasks</span> </p> <p class="clickable"> <span ng-click="taskFilter.User_ID = \'\';TaskViewOptions.show_users=true"><i class="fa fa-users" aria-hidden="true"></i> All Tasks</span> </p> <hr> <p> Order By <ul style="list-style:none;padding-left:15px"> <li ng-click="sort(\'Priority\')" class="clickable"><a>Priority</a></li> <li ng-click="sort(\'Created_Date\')" class="clickable"><a>Date Created</a></li> <li ng-click="sort(\'Due_Date\')" class="clickable"><a>Deadline</a></li> </ul> </p> </div> <div class="col-md-9 mainBody"> <div class="input-group shadow-1" style="height:53px;border:none;z-index:4"> <input style="height:100%;height:53px;border-radius:0px;border:none;box-shadow:none;z-index:2" ng-model="taskSearch" type="text" class="form-control" placeholder="Search..." aria-describedby="basic-addon2"> <span style="border-radius:0px;border:none;border-bottom:1px solid #E0E0E0;background-color:#86B7D9;color:#226493" class="input-group-addon" id="basic-addon2"><i class="fa fa-search"></i></span> </div> <div ng-show="TaskViewOptions.show_users" style="height:60px;width:100%;background-color:#bababa;z-index:1;display:block;position:relative;white-space:nowrap;width:100%" class="shadow-1 scrollbar"> <div ng-click="taskFilter.User_ID =user_item.id" ng-repeat="user_item in User.userList" class="clickable" style="display:inline-block;height:100%;background-color:#E0E0E0;padding:20px;border-right:1px solid #a1a1a1;transition-delay: {{$index * 500}}ms"> {{user_item.display_name}} </div> </div> <div class="task_list fadeInUpBig" context-menu="TaskOptions" ng-repeat="task in Tasks.allTasks|orderBy:sortKey:reverse|filter:taskFilter|filter:taskSearch|filter:{Status:\'!\'+\'Completed\'}" style="vertical-align:middle;background-color:white"> <div style="height:50px;width:20px;margin:0;display:inline-block;position:absolute;border-bottom: 1px solid #E0E0E0" ng-style="task.Priority==\'Low\' &&{\'background-color\':\'#EBEBEB\'}||task.Priority==\'Medium\' &&{\'background-color\':\'#FFE372\'}||task.Priority==\'High\' &&{\'background-color\':\'#FF7C72\'}"> </div> <div style="display:inline-block;padding:5px;padding-left:20px"> <div class="media"> <div class="media-left media-middle"> <i ng-click="removeFlag(task)" ng-show="task.Status!=\'Check\'" class="icon ion-android-checkbox-outline-blank clickable" style="margin-left:10px;font-size:29px; display:inline-block"></i><i style="margin-left:10px;font-size:29px;color:rgba(177,217,120,1)" ng-show="task.Status ==\'Check\'" class="icon ion-ios-checkmark"></i> </div> <div class="media-body" style="vertical-align:middle"> <h5 ng-click="showTask(task)" class="media-heading clickable">{{task.FNAME + \' \'+ task.LNAME}} <span ng-hide="task.Due_Date==null" style="background-color:#FF7C72;padding:2px;border-radius:2px;font-weight:normal;font-size:8pt;color:white;margin-left:5px;margin-right:5px">deadline</span><time class="time" am-time-ago="task.Due_Date"></time></h5> {{task.Title}} </div> </div> </div> </div> </div> <div class="task shadow-6" ng-show="ExpandedView.show"> <div style="height:100%;position:relative;display:block" ng-include="\'views/Task/sidepanel.html\'"> </div> </div> </div> </div>'),a.put("views/Task/sidepanel.html",'<div class="task_header"> To Do <span class="icons"> <button type="button" class="close" aria-hidden="true" ng-click="ExpandedView.show=false" style="font-size:40pt;vertical-align:middle">&times;</button> </span> </div> <div class="task_body"> <div class="row" style="width:100%;padding-left:20px;display:block"> <h3 ng-click="Title.$show()" class="clickable" onaftersave="updateTask(Tasks.currentTask)" editable-text="Tasks.currentTask.Title" e-form="Title" style="float:left;max-width:300px"> {{Tasks.currentTask.Title}} </h3> <div style="float:right; line-height:50px;vertical-align:middle;margin-right:20px"> <span>Priority </span> <div ng-click="Tasks.currentTask.Priority=\'Low\';updateTask(Tasks.currentTask)" ng-style="Tasks.currentTask.Priority==\'Low\' &&{\'background-color\':\'#EBEBEB\'}" class="clickable" style="z-index:10;border:1px solid #EBEBEB;text-align:center;border-radius:100%;color:white;position:relative;margin-top:15px;height:20px;width:20px;display:inline-block;margin-left:10px"></div> <div ng-click="Tasks.currentTask.Priority=\'Medium\';updateTask(Tasks.currentTask)" ng-style="Tasks.currentTask.Priority==\'Medium\' &&{\'background-color\':\'#FFE372\'}" class="clickable" style="z-index:10;border:1px solid #E6C129;text-align:center;border-radius:100%;color:white;height:20px;width:20px;display:inline-block;margin-left:10px"></div> <div ng-click="Tasks.currentTask.Priority=\'High\';updateTask(Tasks.currentTask)" ng-style="Tasks.currentTask.Priority==\'High\' &&{\'background-color\':\'#FF7C72\'}" class="clickable" style="z-index:10;border:1px solid #E63729;text-align:center;border-radius:100%;color:white;height:20px;width:20px;display:inline-block;margin-left:10px"></div> </div> </div> <section class="row" style="display:block;margin-top:30px;position:relative;text-align:center"> <div class="col-md-4" style="text-align:center;padding:0;padding-left:20px"> <p class="input-group" ng-init="showScheduled=false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="showScheduled=true"><i class="fa fa-bell-o"></i></button> </span> <input ng-change="updateTask(Tasks.currentTask)" type="text" class="form-control" uib-datepicker-popup ng-model="Tasks.currentTask.Created_Date" is-open="showScheduled" datepicker-options="dateOptions" ng-required="true" close-text="Close"> </p> </div> <div class="col-md-4" style="padding:0px;padding-left:10px;padding-right:10px"> <p class="input-group" ng-init="showReminder=false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="showReminder=!showReminder" style="background-color:#FFE372;color:#a68500"><i class="fa fa-bell-o"></i></button> </span> <input ng-change="updateTask(Tasks.currentTask)" type="text" class="form-control" uib-datepicker-popup ng-model="Tasks.currentTask.Reminder_Date" is-open="showReminder" datepicker-options="dateOptions" ng-required="true" close-text="Close"> </p> </div> <div class="col-md-4" style="padding:0;padding-right:20px"> <p class="input-group" ng-init="showDue=false"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="showDue=!showDue" style="background-color:#FF7C72;color:#8d0a00"><i class="fa fa-clock-o"></i></button> </span> <input ng-change="updateTask(Tasks.currentTask)" type="text" class="form-control" uib-datepicker-popup ng-model="Tasks.currentTask.Due_Date" is-open="showDue" datepicker-options="dateOptions" ng-required="true" close-text="Close"> </p> </div> </section> <section style="padding:30px;top:50px"> <span>Description</span> <div ng-init="edit=false" ng-show="!edit" ng-click="edit=!edit" class="well clickable description" ng-bind-html="to_trusted(Tasks.currentTask.Detail)"> </div> <div ng-show="edit" style="display:block;position:relative"> <div summernote ng-model="Tasks.currentTask.Detail"></div> <div ng-click="edit=!edit;updateTask(Tasks.currentTask)" class="btn shadow-4" style="position:absolute; bottom:-10px;left:0px;background-color:#3B78A3;color:white;border-radius:0;width:100%"> <i class="fa fa-save"></i> </div> </div> </section> <section style="display:block;margin-top:20px;padding-left:20px"> <div class="row"> <div class="col-md-6" style="height:50px;text-align:left"> <div style="display:block;text-decoration:underline">Assigned To:</div> <img class="task_image_small" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{Tasks.currentTask.Assigned_DisplayPhoto}}"> <h5 style="display:inline-block;margin-right:10px" onaftersave="updateTask(Tasks.currentTask)" editable-select="Tasks.currentTask.User_ID" e-ng-options="s.id as s.display_name for s in User.userList"> {{Tasks.currentTask.Assigned_DisplayName}} </h5> </div> <div class="col-md-6" style="height:50px;text-align:left;margin-top:10px"> <div style="display:block;text-decoration:underline">Assigned By:</div> <img class="task_image_small" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{Tasks.currentTask.FlaggedBy_DisplayPhoto}}"> <h5 style="display:inline-block;margin-right:10px"> {{Tasks.currentTask.FlaggedBy_DisplayName}} </h5> </div> </div> <div class="row"> <div class="col-md-6"> <div style="display:block;text-decoration:underline">Regarding:</div> <img class="task_image_small" ng-src="https://jfsapp.com/Images/Recruits/{{Tasks.currentTask.ProfilePic||\'blank.jpg\'}}"> <h5 style="display:inline-block;margin-right:10px"> {{Tasks.currentTask.FNAME + \' \' +Tasks.currentTask.LNAME}} </h5> </div> <div class="col-md-6" style="height:50px;text-align:left;margin-top:10px"> </div> </div> </section> <hr> <div class="task_comments"> <span><i class="fa fa-list"></i> Sub Tasks</span> <div style="text-align:center;border-radius:100%;background-color:#E63729;color:white;height:20px;width:20px;display:inline-block;margin-left:10px" class="shadow-1"><i class="fa fa-plus"></i></div> <hr> </div> <div class="task_comments"> <span><i class="fa fa-paperclip"></i> Attachments</span> <div style="text-align:center;border-radius:100%;background-color:#E63729;color:white;height:20px;width:20px;display:inline-block;margin-left:10px" class="shadow-1"><i class="fa fa-plus"></i></div> <hr> </div> <div class="task_comments"> <span><i class="fa fa-comments"></i> Comments</span> <hr> <div class="comments"> <div ng-repeat="comment in comments"> <div class="row"> <div class="col-md-3" style="width:60px"> <img class="task_image" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{comment.photo}}"> </div> <div class="col-md-9"> <h5 style="display:inline-block;margin-right:10px"> {{comment.User}} </h5> <time class="time" am-time-ago="comment.date"></time> <br> {{comment.text}} </div> </div> <hr> </div> </div> <div> <table style="width:100%"> <tr> <td style="padding:5px; vertical-align:top;margin:0;width:65px"> <img class="task_image" ng-src="https://jfsapp.com/Images/ProfilePhotos/{{currentUser.Info.display_photo}}"> </td> <td style="margin:0"> <textarea ng-model="text" style="width:100%;height:100px;text-align:left"></textarea> <div class="btn" ng-click="addComment(text)" style="margin-left:auto;margin-right:0px;position:relative;display:block;background-color:#3B78A3;color:white;width:100px"> reply </div> </td> </tr> </table> </div> </div> </div>'),a.put("views/index.html",'<div ng-include="\'views/Shared/header.html\'"></div> <div ui-view style="width:100%;height:100%;padding:0;padding-top:60px" ng-style="Visibility.sidebar && {\'padding-left\':\'240px\'}"></div> <!--<div ng-view style="display:inline-block;position:relative;top:60px;left:250px;min-width:90%" ng-class="{reposition: (SideBarVis == one)}"></div>-->'),a.put("views/recruiting.html","<p>This is the recruiting view.</p>")}]);